(this["webpackJsonpmoss-web-app"]=this["webpackJsonpmoss-web-app"]||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},1825:function(e,t,n){},1826:function(e,t,n){},1827:function(e,t,n){},1828:function(e,t,n){},1829:function(e,t,n){},1830:function(e,t,n){},1831:function(e,t,n){},1832:function(e,t,n){},1833:function(e,t,n){},1834:function(e,t,n){},1966:function(e,t,n){},1967:function(e,t,n){},1968:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(2),a=n.n(s),o=n(133),r=n.n(o),i=n(8),l=n(19),u=n(4),d=n(134),j=n.n(d),h=n(79);j.a.config(),h.initializeApp({apiKey:"AIzaSyD5gh0ohxLfPcU6A0OkoRssvlfvSmPs3wE",authDomain:"moss-web-55761.firebaseapp.com",databaseURL:"https://moss-web-55761.firebaseio.com",projectId:"moss-web-55761",storageBucket:"moss-web-55761.appspot.com",messagingSenderId:"966730512350",appId:"1:966730512350:web:dd4cf77ae71387e5974f4f",measurementId:"G-VGTYM95P4F"});var b=h,p=a.a.createContext(),f=function(e){var t=e.children,n=Object(s.useState)(null),a=Object(u.a)(n,2),o=a[0],r=a[1],i=Object(s.useState)(!0),l=Object(u.a)(i,2),d=l[0],j=l[1];return Object(s.useEffect)((function(){b.auth().onAuthStateChanged((function(e){r(e),j(!1)}))}),[]),Object(c.jsx)(p.Provider,{value:{currentUser:o,loading:d},children:t})},m=n(36),O=n(138),x=n(5),g=n.n(x),v=n(6);function y(e){var t=Object(s.useState)(!1),n=Object(u.a)(t,2),a=n[0],o=n[1],r=Object(s.useState)(!0),i=Object(u.a)(r,2),d=i[0],j=i[1];function h(){return(h=Object(v.a)(g.a.mark((function t(){var n,c,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.user.getIdToken();case 2:return n=t.sent,t.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/auth/isLinked"),{method:"get",headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"}});case 5:return c=t.sent,t.next=8,c.json();case 8:s=t.sent,o(s.data.isLinked),j(!1),console.log(s);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){h.apply(this,arguments)}()}),[]),Object(c.jsx)(c.Fragment,{children:d?null:a?e.children:Object(c.jsx)(l.a,{to:"/link"})})}function N(e){var t=e.component,n=Object(O.a)(e,["component"]),a=Object(s.useContext)(p),o=a.currentUser,r=a.loading;return Object(c.jsx)(l.b,Object(m.a)(Object(m.a)({},n),{},{render:function(e){return r?Object(c.jsx)("div",{}):o?Object(c.jsx)(y,{user:o,children:Object(c.jsx)(t,Object(m.a)(Object(m.a)({},e),{},{user:o}))}):Object(c.jsx)(l.a,{to:"/"})}}))}n(166);function k(){return Object(c.jsxs)("div",{class:"lds-grid",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}n(167);var w=n(18);n(1825);function C(e,t){var n=Object(s.useState)((function(){try{var n=window.localStorage.getItem(e);return n||(window.localStorage.setItem(e,t),t)}catch(c){return console.log(c),t}})),c=Object(u.a)(n,2),a=c[0],o=c[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;o(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]}n(1826);var I=n(28);function S(e){var t=e.details.name.charAt(0),n=C(e.details.id,I({luminosity:"dark",format:"rgba",alpha:.75})),s=Object(u.a)(n,2),a=s[0];s[1];return Object(c.jsx)(i.b,{style:{textDecoration:"none"},to:{pathname:"/course/assignment/".concat(e.details.id),state:{course:e.details}},children:Object(c.jsxs)("div",{className:"courseElement",children:[Object(c.jsx)("div",{style:{backgroundColor:a},className:"courseSymbol",children:t}),Object(c.jsxs)("div",{className:"courseInfo",children:[Object(c.jsx)("div",{className:"name",children:e.details.name}),Object(c.jsx)("div",{className:"section",children:e.details.section?e.details.section:null})]})]})})}function A(e){var t=Object(s.useContext)(p),n=t.currentUser,o=(t.loading,Object(s.useState)([])),r=Object(u.a)(o,2),l=r[0],d=r[1],j=Object(s.useState)([]),h=Object(u.a)(j,2),f=h[0],m=h[1],O=Object(s.useState)(!0),x=Object(u.a)(O,2),y=x[0],N=x[1];function C(){return(C=Object(v.a)(g.a.mark((function t(){var n,c,s,a,o,r,i,l,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.currentUser.getIdToken();case 2:return i=t.sent,t.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/classroom/courses"),{method:"get",headers:{Authorization:"Bearer ".concat(i),"Content-type":"application/json"}});case 5:return l=t.sent,t.next=8,l.json();case 8:u=t.sent,d(null!==(n=null===(c=u.data)||void 0===c||null===(s=c.courses)||void 0===s?void 0:s.teacher)&&void 0!==n?n:[]),m(null!==(a=null===(o=u.data)||void 0===o||null===(r=o.courses)||void 0===r?void 0:r.student)&&void 0!==a?a:[]),N(!1);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){b.auth().signOut().then((function(){window.location.href="/"}))}function A(){return(A=Object(v.a)(g.a.mark((function e(){var t,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getIdToken();case 2:return t=e.sent,e.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/auth/unlink"),{method:"post",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,console.log(s),I();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[]),Object(c.jsxs)("aside",{className:e.open?"sidebar-active":"",children:[Object(c.jsxs)(i.b,{to:"/courses",className:"allCourses",children:[Object(c.jsx)("div",{className:"home",children:Object(c.jsx)(w.HomeIcon,{})}),"Classes"]}),y?Object(c.jsx)(k,{}):Object(c.jsxs)(a.a.Fragment,{children:[l.length>0&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"sideHead",children:"Teaching"}),Object(c.jsx)("div",{children:l.map((function(e){return Object(c.jsx)(S,{details:e})}))})]}),f.length>0&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"sideHead",children:"Enrolled"}),Object(c.jsx)("div",{children:f.map((function(e){return Object(c.jsx)(S,{details:e})}))})]}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"unlink",onClick:function(){return A.apply(this,arguments)},children:"Unlink Drive and Classroom"})})]})]})}n(83);function M(e){var t=Object(s.useContext)(p),n=t.currentUser,a=(t.loading,Object(s.useState)("")),o=Object(u.a)(a,2),r=o[0],i=o[1];function l(){return(l=Object(v.a)(g.a.mark((function e(){var t,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getIdToken();case 2:return t=e.sent,e.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/moss/id/read"),{method:"get",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,i(s.data.mossId||""),console.log(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(v.a)(g.a.mark((function t(){var c,s,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getIdToken();case 2:return c=t.sent,t.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/moss/id/update"),{method:"post",headers:{Authorization:"Bearer ".concat(c),"Content-type":"application/json"},body:JSON.stringify({mossId:r})});case 5:return s=t.sent,t.next=8,s.json();case 8:a=t.sent,console.log(a),e.setViewMoss(!1),e.setViewMessage(!0),200==a.statusCode?e.setConfirmMessage("Updated Succesfully!"):e.setConfirmMessage("Invalid Moss Id/Failed Update");case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[n]),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"backgroundArea",onClick:function(){return e.setViewMoss(!1)}}),Object(c.jsxs)("div",{className:"popMoss",children:[Object(c.jsxs)("h1",{children:["Your MOSS ID is : ",Object(c.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)},value:r})]}),Object(c.jsx)("div",{style:{textAlign:"center"},children:Object(c.jsx)("button",{type:"submit",onClick:function(){return d.apply(this,arguments)},children:"Update Moss Id"})})]})]})}function D(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"backgroundArea",onClick:function(){return e.setViewMessage(!1)}}),Object(c.jsxs)("div",{className:"popMoss",children:[Object(c.jsx)("h1",{children:e.message}),Object(c.jsx)("div",{style:{textAlign:"center"},children:Object(c.jsx)("button",{type:"submit",onClick:function(){return e.setViewMessage(!1)},children:"Close"})})]})]})}n(1827);function U(){var e=Object(s.useContext)(p),t=e.currentUser,n=e.loading,a=Object(s.useState)(""),o=Object(u.a)(a,2),r=o[0],i=o[1],l=Object(s.useState)(!1),d=Object(u.a)(l,2),j=d[0],h=d[1],f=Object(s.useState)(!1),m=Object(u.a)(f,2),O=m[0],x=m[1],g=Object(s.useState)(!1),v=Object(u.a)(g,2),y=v[0],N=v[1],k=Object(s.useState)(!1),C=Object(u.a)(k,2),I=C[0],S=C[1];return Object(c.jsxs)("div",{className:"landingPage_container landingPage_center",children:[Object(c.jsxs)("nav",{className:"landingPage_menu",children:[!n&&t&&Object(c.jsx)("button",{onClick:function(){S((function(e){return!e}))},className:"hamBtn",children:Object(c.jsx)("div",{class:"".concat("hamburger hamburger-spin"," ").concat(I?"is-active":""),id:"menu",children:Object(c.jsx)("div",{class:"hamburger-box",children:Object(c.jsx)("div",{class:"hamburger-inner"})})})}),Object(c.jsx)("h1",{className:"landingPage_menu__logo",children:"mosely"}),!n&&t&&Object(c.jsxs)("div",{style:{position:"relative"},children:[Object(c.jsx)("button",{onClick:function(){return x((function(e){return!e}))},className:"landingPage_menu__list",children:Object(c.jsx)(w.ChevronCircleDownIcon,{})}),O&&Object(c.jsxs)("div",{className:"arrowDropdown",children:[Object(c.jsx)("div",{onClick:function(){return N(!0)},children:"View MOSS ID"}),Object(c.jsx)("div",{onClick:function(){b.auth().signOut().then((function(){window.location.href="/"}))},children:"Logout"})]})]})]}),y&&Object(c.jsx)(M,{setViewMoss:N,setViewMessage:h,setConfirmMessage:i}),j&&Object(c.jsx)(D,{setViewMessage:h,message:r}),!n&&t&&Object(c.jsx)(A,{currentUser:t,open:I})]})}var T=n(28),B=n.n(T);n(1828);function z(e){var t=C(e.details.id,B()({luminosity:"dark",format:"rgba",alpha:.75})),n=Object(u.a)(t,2),s=n[0];n[1];return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)(i.b,{style:{textDecoration:"none"},to:{pathname:"/course/assignment/".concat(e.details.id),state:{course:e.details,label:e.label}},children:Object(c.jsxs)("div",{style:{backgroundColor:s},className:"top",children:[Object(c.jsx)("div",{className:"courseName",children:e.details.name}),Object(c.jsx)("div",{className:"courseSection",children:e.details.section?e.details.section:" "}),Object(c.jsx)("div",{className:"courseTeacher",children:e.details.teacherInfo.name.fullName})]})}),Object(c.jsx)("div",{className:"bottom",children:Object(c.jsx)("img",{className:"teacherImg",src:"/"===e.details.teacherInfo.photoUrl[0]?"https:"+e.details.teacherInfo.photoUrl:e.details.teacherInfo.photoUrl})})]})}function E(){var e=Object(s.useContext)(p),t=e.currentUser,n=(e.loading,Object(s.useState)(!0)),a=Object(u.a)(n,2),o=a[0],r=a[1],i=Object(s.useState)([]),l=Object(u.a)(i,2),d=l[0],j=l[1],h=Object(s.useState)([]),b=Object(u.a)(h,2),f=b[0],m=b[1];function O(){return(O=Object(v.a)(g.a.mark((function e(){var n,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIdToken();case 2:return n=e.sent,e.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/classroom/courses"),{method:"get",headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,console.log(s),r(!1),j(s.data.courses.teacher),m(s.data.courses.student),console.log(s.data);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[t]),Object(c.jsxs)("div",{children:[Object(c.jsx)(U,{}),Object(c.jsxs)("div",{className:"viewCourses",children:[o&&Object(c.jsx)(k,{}),f.map((function(e){return Object(c.jsx)(z,{details:e,label:"student"})})),d.map((function(e){return Object(c.jsx)(z,{details:e,label:"teacher"})}))]})]})}n(1829);var P=function(){var e=Object(s.useContext)(p),t=e.currentUser,n=e.loading;function a(){return(a=Object(v.a)(g.a.mark((function e(){var n,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIdToken();case 2:return n=e.sent,e.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/auth/link"),{method:"get",headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,window.location.href=s.data.authLink,console.log(s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){n||t||(window.location.href="/")}),[n,t]),Object(c.jsxs)("div",{children:[Object(c.jsx)(U,{}),Object(c.jsx)("button",{className:"linkBtn",onClick:function(){return a.apply(this,arguments)},children:"Link your drive and classroom"})]})};function _(){var e=Object(s.useContext)(p),t=e.currentUser,n=e.loading,a=new URLSearchParams(window.location.search).get("code");function o(){return(o=Object(v.a)(g.a.mark((function e(){var n,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIdToken();case 2:return n=e.sent,e.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/auth/authorize"),{method:"post",headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"},body:JSON.stringify({authCode:a})});case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,window.location.href="/courses",console.log(s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(a),Object(s.useEffect)((function(){t&&!n&&function(){o.apply(this,arguments)}()}),[t,n]),Object(c.jsx)(k,{})}n(1830),n(1831);var F=function(){var e=Object(s.useContext)(p),t=e.loading,n=e.currentUser;return Object(s.useEffect)((function(){!t&&n&&(window.location.href="/courses")}),[t,n]),Object(c.jsxs)("div",{children:[Object(c.jsx)(U,{}),Object(c.jsx)("div",{className:"signInDiv",children:Object(c.jsxs)("button",{className:"signInBtn",onClick:function(){var e=new b.auth.GoogleAuthProvider;b.auth().signInWithPopup(e).then((function(e){window.location.href="/courses"})).catch((function(e){console.log(e)}))},children:[Object(c.jsx)("div",{className:"logo"}),Object(c.jsx)("label",{children:"Sign In with Google"})]})})]})};function V(e){var t=Object(s.useContext)(p),n=t.loading,a=t.currentUser;return Object(s.useEffect)((function(){n||a.getIdToken().then((function(e){return console.log(e)}))}),[n,a]),Object(c.jsx)("div",{})}n(1832),n(1833);function L(e){var t,n=e.assignment.dueDate?e.assignment.dueDate:0;switch(n.month){case 1:t="Jan";break;case 2:t="Feb";break;case 3:t="Mar";break;case 4:t="Apr";break;case 5:t="May";break;case 6:t="Jun";break;case 7:t="Jul";break;case 8:t="Aug";break;case 9:t="Sept";break;case 10:t="Oct";break;case 11:t="Nov";break;case 12:t="Dec";break;default:t=""}return Object(c.jsx)(i.b,{style:{textDecoration:"none"},to:{pathname:"/course/assignment/report/".concat(e.assignment.id),state:{teacher:e.teacher}},children:Object(c.jsxs)("div",{className:"courseAssignmentCard",children:[Object(c.jsx)("div",{className:"icon",children:Object(c.jsx)(w.ClipboardListIcon,{})}),Object(c.jsxs)("div",{className:"assignmentDetails",children:[Object(c.jsx)("div",{className:"assignmentDesc",children:e.assignment.title}),e.assignment.dueDate&&Object(c.jsxs)("span",{className:"assignmentDueDate",children:[t," ",n.day?n.day:""]})]})]})})}n(1834);function J(e){var t=Object(s.useContext)(p),n=t.currentUser,a=(t.loading,Object(s.useState)("")),o=Object(u.a)(a,2),r=o[0],i=o[1];function l(){return(l=Object(v.a)(g.a.mark((function t(){var c,s,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getIdToken();case 2:return c=t.sent,t.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/moss/id/update"),{method:"post",headers:{Authorization:"Bearer ".concat(c),"Content-type":"application/json"},body:JSON.stringify({mossId:r})});case 5:return s=t.sent,t.next=8,s.json();case 8:a=t.sent,e.checkMoss(),console.log(a);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"moss_id_input_container",children:[Object(c.jsx)("p",{children:"If you'd like to see the plagiarism report for your assignments, kindly enter your MOSS ID or ask some other teacher who is part of this course to do so."}),Object(c.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)},value:r}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"addMossIdBtn",type:"submit",onClick:function(){return l.apply(this,arguments)},children:"Submit"})]})}var G=n(28);function R(e){var t=Object(s.useContext)(p),n=t.currentUser,a=(t.loading,Object(s.useState)(!0)),o=Object(u.a)(a,2),r=o[0],i=o[1],d=Object(s.useState)([]),j=Object(u.a)(d,2),h=j[0],b=j[1],f=Object(s.useState)(!1),m=Object(u.a)(f,2),O=m[0],x=m[1],y=Object(s.useState)(!1),N=Object(u.a)(y,2),w=N[0],I=N[1],S=Object(l.f)().id,A=C(S,G({luminosity:"dark",format:"rgba",alpha:.75})),M=Object(u.a)(A,2),D=M[0];M[1];function T(){return(T=Object(v.a)(g.a.mark((function e(){var t,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getIdToken();case 2:return t=e.sent,e.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/classroom/course/read/?courseId=").concat(S),{method:"get",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,console.log(s),x(s.data.course);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return z.apply(this,arguments)}function z(){return(z=Object(v.a)(g.a.mark((function e(){var t,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getIdToken();case 2:return t=e.sent,e.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/classroom/courses/courseWork?courseId=").concat(S),{method:"get",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,b(s.data.courseWork),console.log(s.data.courseWork);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return P.apply(this,arguments)}function P(){return(P=Object(v.a)(g.a.mark((function e(){var t,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getIdToken();case 2:return t=e.sent,e.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/moss/id/read"),{method:"get",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:(s=e.sent).data.mossId&&I(!0),console.log(s.data);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){Promise.all([B(),E()]).then((function(){if(!e.location.state)return function(){return T.apply(this,arguments)}();x(e.location.state.course)})).then((function(){i(!1)}))}),[n,S]),Object(c.jsxs)("div",{children:[Object(c.jsx)(U,{}),r&&Object(c.jsx)(k,{}),O&&Object(c.jsxs)("div",{className:"assignmentBox",children:[O.teacherFolder&&!w&&Object(c.jsx)(J,{checkMoss:E}),Object(c.jsx)("div",{className:"courseDesc",style:{backgroundColor:D},children:Object(c.jsxs)("div",{className:"assignmentCourseDetails",children:[Object(c.jsx)("div",{className:"assignmentCourseName",children:O.name}),Object(c.jsx)("div",{className:"assignmentCourseSection",children:O.section?O.section:" "}),Object(c.jsx)("div",{className:"courseTeacher",children:O.teacherInfo.name.fullName})]})}),Object(c.jsx)("div",{className:"assignmentCard",children:h.map((function(e){var t=!!O.teacherFolder;return Object(c.jsx)(L,{assignment:e,teacher:t})}))})]})]})}var W=n(1973),H=n(137),Y=n.n(H);n(1966);function K(e){var t=Object(l.f)().id,n=Object(s.useContext)(p),a=n.currentUser,o=(n.loading,Object(s.useState)([])),r=Object(u.a)(o,2),d=r[0],j=r[1],h=Object(s.useState)(!0),b=Object(u.a)(h,2),f=b[0],m=b[1];function O(){return(O=Object(v.a)(g.a.mark((function e(){var n,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getIdToken();case 2:return n=e.sent,e.next=5,fetch("".concat("https://mosely-dot-dsc-cloud-287107.el.r.appspot.com/api","/moss/report/?courseWorkId=").concat(t),{method:"get",headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,j(s.data.report.report),m(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var n={},c=[];for(t in e.map((function(e){void 0==n[e.file1.fullName]?n[e.file1.fullName]={fullName:e.file1.fullName,edgeCount:1}:n[e.file1.fullName].edgeCount++,void 0==n[e.file2.fullName]?n[e.file2.fullName]={fullName:e.file2.fullName,edgeCount:1}:n[e.file2.fullName].edgeCount++})),n)c.push({id:t,label:n[t].fullName,title:t,shape:"dot",value:n[t].edgeCount,color:B()({luminosity:"light",format:"rgba",alpha:.75}),font:{size:12}});return c}function y(e){return e.map((function(e){var t=(e.file1.percentage+e.file2.percentage)/2;return{from:e.file1.fullName,to:e.file2.fullName,width:t/10,label:"".concat(Math.floor(t)),font:{align:"top"}}}))}return Object(s.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[a]),console.log("Graph",{nodes:x(d),edges:y(d)}),Object(c.jsxs)("div",{children:[Object(c.jsx)(U,{}),f&&Object(c.jsx)(k,{}),d?Object(c.jsxs)("div",{children:[Object(c.jsx)(Y.a,{graph:{nodes:x(d),edges:y(d)},options:{edges:{arrows:{to:{enabled:!1}},color:{inherit:"from",opacity:.5}},height:"700px"}},Object(W.a)()),Object(c.jsx)("div",{children:Object(c.jsxs)("table",{className:"matchTable",children:[Object(c.jsxs)("thead",{children:[Object(c.jsx)("th",{children:"Sr No."}),Object(c.jsx)("th",{children:"Student 1"}),Object(c.jsx)("th",{children:"Student 2"}),Object(c.jsx)("th",{className:"percent",children:"Match Percentage"}),e.location.state.teacher?Object(c.jsx)("th",{children:"View Files"}):""]}),Object(c.jsx)("tbody",{children:d.map((function(t,n){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:n+1}),Object(c.jsx)("td",{title:t.file1.fullName,children:t.file1.fullName}),Object(c.jsx)("td",{title:t.file2.fullName,children:t.file2.fullName}),Object(c.jsx)("td",{children:(t.file1.percentage+t.file2.percentage)/2}),e.location.state.teacher?Object(c.jsx)("td",{children:Object(c.jsx)(i.b,{to:{pathname:"/course/assignments/matched",state:{matched:t}},children:Object(c.jsx)(w.FileCodeIcon,{})})}):""]})}))})]})})]}):Object(c.jsxs)("div",{className:"rejectReport",children:[Object(c.jsx)("h3",{children:"No Reports are available at the moment"}),Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"It could be due to the following reasons:"}),Object(c.jsxs)("p",{className:"reasons",style:{textAlign:"left"},children:["1.Teacher has not registered on this site",Object(c.jsx)("br",{}),"2.Teacher might not have put a valid Moss ID",Object(c.jsx)("br",{}),"3.No or only 1 submission has been made",Object(c.jsx)("br",{}),"4.Assignment description does not contain Language Specification"]})]})]})}n(1967);var q=function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(U,{}),Object(c.jsxs)("div",{className:"matchFile",children:[Object(c.jsxs)("div",{className:"file1",children:[Object(c.jsxs)("h3",{children:["Name:",e.location.state.matched.file1.fullName]}),Object(c.jsx)("iframe",{srcDoc:'<head><style type="text/css">a{display:none}</style></head><pre>'.concat(e.location.state.matched.file1.code,"</pre>"),width:"100%",height:"100%"})]}),Object(c.jsxs)("div",{className:"file2",children:[Object(c.jsxs)("h3",{children:["Name:",e.location.state.matched.file2.fullName]}),Object(c.jsx)("iframe",{srcDoc:'<head><style type="text/css">a{display:none}</style></head><pre>'.concat(e.location.state.matched.file2.code,"</pre>"),width:"100%",height:"100%"})]})]})]})};var Q=function(){return Object(c.jsx)(f,{children:Object(c.jsx)(i.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(l.b,{exact:!0,path:"/",component:F}),Object(c.jsx)(l.b,{exact:!0,path:"/link",component:P}),Object(c.jsx)(N,{exact:!0,path:"/courses",component:E}),Object(c.jsx)(l.b,{exact:!0,path:"/loading",component:_}),Object(c.jsx)(l.b,{exact:!0,path:"/test",component:V}),Object(c.jsx)(N,{exact:!0,path:"/course/assignment/:id",component:R}),Object(c.jsx)(N,{exact:!0,path:"/course/assignment/report/:id",component:K}),Object(c.jsx)(N,{exact:!0,path:"/course/assignments/matched",component:q})]})})})};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(Q,{})}),document.getElementById("root"))},83:function(e,t,n){}},[[1968,1,2]]]);
//# sourceMappingURL=main.b9fa69c2.chunk.js.map